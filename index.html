<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
    </head>

    <body>
        <script>
            function getRandomChoice() {
                let options = ['Rock', 'Paper', 'Scissors'];
                let computerChoice = options[Math.floor(Math.random()*options.length)];
                return computerChoice;
            }

            function getPlayerChoice() {
                let options = ['Rock', 'Paper', 'Scissors'];
                let usersChoice = prompt("Enter a Choice: Rock, Paper or Scissors");
                
                while(!options.includes(usersChoice)) {
                    console.log("The choice you entered is not allowed.Please")
                    usersChoice = prompt("Enter a Choice: Rock, Paper or Scissors");
                }

                return usersChoice;
            }

            function determineWinner(usersChoice, computerChoice) {
                if (usersChoice == 'Rock') {
                    if (computerChoice == 'Scissors') return 1;
                    else if (computerChoice == 'Paper') return 0;
                
                } else if (usersChoice == 'Paper') {
                    if (computerChoice == 'Scissors') return 0;
                    else if (computerChoice == 'Rock') return 1;
                
                } else {
                    if (computerChoice == 'Rock') return 0;
                    else if (computerChoice == 'Paper') return 1;
                }

            }

            function playRound() {
                let usersChoice = getPlayerChoice();
                let computerChoice = getRandomChoice();

                while (usersChoice == computerChoice) {
                    console.log("empate prro :v")
                    usersChoice = getPlayerChoice();
                    computerChoice = getRandomChoice();
                }
                console.log("You choose:         " + usersChoice);
                console.log("computer choose:    " + computerChoice); 

                return determineWinner(usersChoice, computerChoice);
            }

            function game() {
                let numberOfRounds = parseInt(prompt("How many rounds do you want to play"));
                let score = 0;
                for (i = 0; i < numberOfRounds; ++i) {
                    score += playRound();
                    console.log("score: " + score + "/" + numberOfRounds);
                }

                if (score > numberOfRounds / 2) {
                    return "You won!"
                } else {
                    return "You lost :("
                }
            }



            console.log(game());




        </script>

    </body>

</html>